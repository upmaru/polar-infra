# polar-infra

Welcome to your insterra generated platform code. You can execute this code either via CLI from your local machine or via terraform cloud.

We recommend using terraform cloud for production setup.

## Custom Configs and Updates

We recommend leaving the files generated by insterra untouched. If you need to add custom configuration, you can do so by creating a new file `main.tf`.

When you make a change using OpsMaru's wizard changes will be propagated to this repository via pull-request. If you've connected this repository to terraform cloud upon merging terraform cloud will run and update your infrastructure automatically.

## Terraform Cloud

Setup a free terraform cloud account and create a workspace. You'll need to connect the workspace to this repository. Follow the video below to learn more.

<div>
  <a href="https://www.loom.com/share/079bdd740b65437f88b3331edbfb4b6f">
    <p>Connecting Your Repository to Terraform Cloud - Watch Video</p>
  </a>
  <a href="https://www.loom.com/share/079bdd740b65437f88b3331edbfb4b6f">
    <img style="max-width:300px;" src="https://cdn.loom.com/sessions/thumbnails/079bdd740b65437f88b3331edbfb4b6f-1705314779122-with-play.gif">
  </a>
</div>

## Terraform CLI

You'll need to install terraform on your local machine and create `.auto.tfvars` with the following content

```hcl
aws_access_key = "<replace with your values>"
aws_region = "<replace with your values>"
aws_secret_key = "<replace with your values>"
identifier = "polar-infra"
instellar_auth_token = "<replace with your values>"
instellar_host = "<replace with your values>"

```

Then simply run:

```bash
terraform init
terraform plan
terraform apply
```